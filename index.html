<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>TIMER</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- PrimeIcons (souƒç√°st ekosyst√©mu PrimeNG) -->
    <link rel="stylesheet" href="https://unpkg.com/primeicons/primeicons.css">

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #1f2933, #020617);
            color: #f9fafb;
            min-height: 100vh;
            display: flex;
            align-items: stretch;
            justify-content: center;
        }

        .app {
            max-width: 960px;
            margin: 0 auto;
            padding: 24px 16px 32px;
            display: flex;
            flex-direction: column;
            gap: 24px;
            width: 100%;
        }

        header { text-align: center; }

        header h1 {
            font-size: clamp(1.4rem, 2.3vw, 1.9rem);
            font-weight: 600;
            margin-bottom: 10px;
            color: #e5e7eb;
        }

        .note-display {
            min-height: 2.4em;
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            color: #f9fafb;
            font-weight: 500;
        }

        .note-display.placeholder {
            color: #9ca3af;
            font-style: italic;
            font-weight: 400;
        }

        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 24px;
            align-items: center;
            justify-content: center;
        }

        #timer {
            font-size: clamp(4rem, 20vw, 9rem);
            font-weight: 700;
            text-align: center;
            letter-spacing: 0.08em;
            text-shadow: 0 0 20px rgba(15,23,42,0.9);
        }

        #timer.finished {
            color: #f97316;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        .end-time {
            color: #9ca3af;
            margin-top: 8px;
            font-size: clamp(1.1rem, 1.6vw, 1.3rem);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
        }

        button {
            border: none;
            border-radius: 9999px;
            padding: 8px 18px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: 0.12s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        button:disabled { opacity: 0.6; cursor: not-allowed; }

        #newCountdownBtn { background: #2563eb; color: white; }
        #startStopBtn { background: #16a34a; color: white; }
        #startStopBtn.running { background: #ea580c; }

        #noteBtn, #resetBtn, #fullscreenBtn, #addMinuteBtn, #musicBtn {
            background: #111827;
            color: #e5e7eb;
            border: 1px solid #374151;
        }

        footer {
            text-align: center;
            color: #6b7280;
            margin-top: auto;
            font-size: 0.8rem;
        }

        .hidden { display:none; }
    </style>
</head>

<body>
<div class="app">
    <header>
        <h1>Timer</h1>
        <div id="noteDisplay" class="note-display placeholder">
            P≈ôidej si pozn√°mku (nap≈ô. ‚ÄûP≈ôest√°vka‚Äú) tlaƒç√≠tkem n√≠≈æe.
        </div>
    </header>

    <main>
        <div class="timer-display"><span id="timer">00:00</span></div>
        <div class="end-time"><span id="endTimeLabel">Konec v: <strong>--:--</strong></span></div>

        <div class="controls">
            <button id="newCountdownBtn">Nov√Ω odpoƒçet</button>
            <button id="startStopBtn" disabled>Start</button>
            <button id="resetBtn" disabled>Reset</button>
            <button id="addMinuteBtn" disabled>+1 min</button>
            <button id="noteBtn">Pozn√°mka</button>
            <button id="fullscreenBtn">Cel√° obrazovka</button>
            <button id="musicBtn">üéµ Hudba zapnuta</button>
        </div>

        <div id="statusMessage" class="status-message"></div>
    </main>

    <footer>Jednoduch√° ƒçasom√≠ra ‚Äì HTML / CSS / JS</footer>

    <audio id="bgMusic" loop>
        <source src="music/background.mp3" type="audio/mpeg">
    </audio>
</div>

<script>
/* ===== P≈ÆVODN√ç LOGIKA ‚Äì BEZE ZMƒöN ===== */
// ‚Ä¶ cel√Ω tv≈Øj JS k√≥d z≈Øst√°v√° beze zmƒõny ‚Ä¶

/* ===== HUDBA NA POZAD√ç ===== */

const bgMusic = document.getElementById("bgMusic");
const musicBtn = document.getElementById("musicBtn");
let musicPlaying = false;

bgMusic.volume = 0.3;

musicBtn.addEventListener("click", () => {
    if (!musicPlaying) {
        bgMusic.play();
        musicBtn.textContent = "üîá Hudba vypnuta";
    } else {
        bgMusic.pause();
        musicBtn.textContent = "üéµ Hudba zapnuta";
    }
    musicPlaying = !musicPlaying;
});
</script>
</body>
</html>
